# Model paths
models:
  image_generator:
    type: "z-image-turbo"  # "qwen-image", "kimchi", or "z-image-turbo"
    # Qwen-Image settings
    name: "Qwen/Qwen-Image"
    local_path: "./models_cache/qwen-image"
    torch_dtype: "bfloat16"
    use_memory_efficient: false
    # Z-Image-Turbo settings (when type: "z-image-turbo")
    z_image_name: "Tongyi-MAI/Z-Image-Turbo"
    z_image_local_path: "./models_cache/Z-Image-Turbo"
    # Kimchi settings (when type: "kimchi")
    pretrained_model_path: "./models_cache/stable-diffusion-v1-5"  # Stable Diffusion v1.5 local path (required)
    clip_model_path: "./models_cache/clip-vit-large-patch14-ko"  # Korean CLIP model local path (required)
    lora_path: "./models_cache/kimchi-lora/pytorch_lora_weights.safetensors"  # LoRA weights path (required)
  
  evaluator:    
    name: "Qwen/Qwen2.5-VL-7B-Instruct"
    local_path: "./models_cache/qwen2.5-vl-7b-instruct"

    # Settings for Qwen3-VL-30B-A3B-Instruct
    # name: "Qwen/Qwen3-VL-30B-A3B-Instruct"
    # local_path: "./models_cache/Qwen3-VL-30B-A3B-Instruct"
    
    torch_dtype: "bfloat16"
    device_map: "auto"

  judge:
    # name: "Qwen/Qwen3-VL-30B-A3B-Instruct"
    # local_path: "./models_cache/Qwen3-VL-30B-A3B-Instruct"
    name: "Qwen/Qwen3-30B-A3B-Instruct-2507"
    local_path: "./models_cache/Qwen3-30B-A3B-Instruct-2507"
    
    torch_dtype: "bfloat16"
    device_map: "auto"

# Dataset settings
dataset:
  name: "naver-ai/kobbq"
  split: "test"
  local_cache_dir: "./data_cache"

# Image generation settings
image_generation:
  output_dir: "./outputs/tta_images"
  max_contexts: 10000
  # Qwen-Image settings
  num_inference_steps: 28
  true_cfg_scale: 4.0
  width: 512
  height: 512
  aspect_ratio: "1:1"
  # Z-Image-Turbo settings (overrides above when using z-image-turbo)
  z_image_num_inference_steps: 9  # Results in 8 DiT forwards
  z_image_guidance_scale: 0.0     # Must be 0 for Turbo models
  z_image_width: 1024
  z_image_height: 1024

# Evaluation settings
evaluation:
  output_dir: "./outputs/evaluation_results"
  max_new_tokens: 1024
  judge_max_new_tokens: 256
  generation_batch_size: 64
  judge_batch_size: 2
  save_interval: 10
  prompts_file: "./evaluation/kobbq_prompts.tsv"
  prompt_ids: [1]

# Device settings
device:
  cuda_device: "cuda:0"
  use_cuda: true

# Output paths
outputs:
  image_context_mapping: "./outputs/evaluation_results/qwen-image/image_context_mapping.json"
  comparison_results: "./outputs/evaluation_results/qwen-image/qwenvl_comparison_results_prompt_{prompt_id}.json"
  evaluation_summary: "./outputs/evaluation_results/qwen-image/kobbq_comparison_evaluation_prompt_{prompt_id}.json"
  text_correct_multimodal_wrong: "./outputs/evaluation_results/qwen-image/text_correct_multimodal_wrong_prompt_{prompt_id}.json"
